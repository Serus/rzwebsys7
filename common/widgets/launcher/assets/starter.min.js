(function(b,a){b.AjaxStarter=function(c,d){this.url=c;this.callback=d||function(){};this.page=1;this.pagesNum=1;this.procents=0};b.AjaxStarter.prototype.request=function(){var c=this;var d=new Date();a.getJSON(this.url,{page:this.page,time:d.getTime()},function(e){if(!e.errors){c.page++;c.data=e;c.pagesNum=e.pagesNum;c.procents=(e.page/e.pagesNum)*100;c.callback.apply(c);if(c.page<=c.pagesNum){c.request()}else{c.page=1}}else{c.errors=e.errors;c.callback.apply(c)}})}})(window,jQuery);